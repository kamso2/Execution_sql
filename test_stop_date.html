<!DOCTYPE html>
<html lang="fr">

<head>
    <meta charset="UTF-8">
    <title>Test STOP_DATE</title>
</head>

<body>
    <h1>Test de v√©rification STOP_DATE</h1>
    <div id="result"></div>

    <script>
        // Copier la configuration QUERY_MAPPING de script.js
        const COMMON_TABLE_OPTIONS = [
            { value: "", label: "-- S√©lectionnez une table --" },
            { value: "repeteurs", label: "FRAGILE_REPETEUR" }
        ];

        const QUERY_MAPPING = {
            "nombre_de_fiches": {
                label: "üîç NOMBRE DE FICHES"
            },
            "RELANCE": {
                label: "‚ö° RELANCE (Admin)"
            },
            "AJOUT_DATE": {
                label: "üìÖ AJOUT DATE (Admin)"
            },
            "STOP_DATE": {
                label: "üõë STOP DATE (Admin)",
                dropdowns: [
                    { id: "table", label: "Base de donn√©es cible (Table)", options: COMMON_TABLE_OPTIONS },
                    {
                        id: "date_column",
                        label: "Filtre Date",
                        options: [
                            { value: "fin_abonnement", label: "Date fin abonnement" }
                        ]
                    }
                ],
                text_params: [],
                use_date_range: true,
                date_required: true
            }
        };

        // Test
        const resultDiv = document.getElementById('result');
        let html = '<h2>Requ√™tes disponibles :</h2><ul>';

        for (const queryId in QUERY_MAPPING) {
            html += `<li><strong>${queryId}</strong>: ${QUERY_MAPPING[queryId].label}</li>`;
        }

        html += '</ul>';

        if (QUERY_MAPPING.STOP_DATE) {
            html += '<h2 style="color: green;">‚úÖ STOP_DATE est bien d√©fini !</h2>';
            html += '<pre>' + JSON.stringify(QUERY_MAPPING.STOP_DATE, null, 2) + '</pre>';
        } else {
            html += '<h2 style="color: red;">‚ùå STOP_DATE n\'est PAS d√©fini !</h2>';
        }

        resultDiv.innerHTML = html;
    </script>
</body>

</html>